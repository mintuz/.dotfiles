

/*
 * Copyright (c) 2015-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the license found in the LICENSE file in
 * the root directory of this source tree.
 */

var resolveAll = require('./resolveAll');
var resolveDuplicates = require('./resolveDuplicates');
var resolveForcedMarkers = require('./resolveForcedMarkers');
var resolveForcedScopeBreaks = require('./resolveForcedScopeBreaks');
var resolveNoBreaks = require('./resolveNoBreaks');
var resolveScopes = require('./resolveScopes');

/**
 * After printing the AST parts and all appropriate markers this will join the
 * parts based on options and the markers that are available.
 */
function resolveLines(lines, options) {
  lines = resolveNoBreaks(lines);
  lines = resolveForcedScopeBreaks(lines);
  lines = resolveDuplicates(lines);

  // Now we will resolve some newlines where possible. This will affect
  // runs, whereas before we were careful to not affect runs of markers.
  lines = resolveForcedMarkers(lines);
  lines = resolveScopes(lines, options);
  return resolveAll(lines, options);
}

module.exports = resolveLines;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlc29sdmVMaW5lcy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBY0EsSUFBTSxVQUFVLEdBQUcsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFDO0FBQzNDLElBQU0saUJBQWlCLEdBQUcsT0FBTyxDQUFDLHFCQUFxQixDQUFDLENBQUM7QUFDekQsSUFBTSxvQkFBb0IsR0FBRyxPQUFPLENBQUMsd0JBQXdCLENBQUMsQ0FBQztBQUMvRCxJQUFNLHdCQUF3QixHQUFHLE9BQU8sQ0FBQyw0QkFBNEIsQ0FBQyxDQUFDO0FBQ3ZFLElBQU0sZUFBZSxHQUFHLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO0FBQ3JELElBQU0sYUFBYSxHQUFHLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDOzs7Ozs7QUFNakQsU0FBUyxZQUFZLENBQUMsS0FBaUIsRUFBRSxPQUFnQixFQUFVO0FBQ2pFLE9BQUssR0FBRyxlQUFlLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDL0IsT0FBSyxHQUFHLHdCQUF3QixDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ3hDLE9BQUssR0FBRyxpQkFBaUIsQ0FBQyxLQUFLLENBQUMsQ0FBQzs7OztBQUlqQyxPQUFLLEdBQUcsb0JBQW9CLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDcEMsT0FBSyxHQUFHLGFBQWEsQ0FBQyxLQUFLLEVBQUUsT0FBTyxDQUFDLENBQUM7QUFDdEMsU0FBTyxVQUFVLENBQUMsS0FBSyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0NBQ25DOztBQUVELE1BQU0sQ0FBQyxPQUFPLEdBQUcsWUFBWSxDQUFDIiwiZmlsZSI6InJlc29sdmVMaW5lcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2UgYmFiZWwnO1xuLyogQGZsb3cgKi9cblxuLypcbiAqIENvcHlyaWdodCAoYykgMjAxNS1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgaW5cbiAqIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCB0eXBlIE9wdGlvbnMgZnJvbSAnLi4vb3B0aW9ucy9PcHRpb25zJztcbmltcG9ydCB0eXBlIHtPdXRwdXR9IGZyb20gJy4uL3R5cGVzL2NvbW1vbic7XG5cbmNvbnN0IHJlc29sdmVBbGwgPSByZXF1aXJlKCcuL3Jlc29sdmVBbGwnKTtcbmNvbnN0IHJlc29sdmVEdXBsaWNhdGVzID0gcmVxdWlyZSgnLi9yZXNvbHZlRHVwbGljYXRlcycpO1xuY29uc3QgcmVzb2x2ZUZvcmNlZE1hcmtlcnMgPSByZXF1aXJlKCcuL3Jlc29sdmVGb3JjZWRNYXJrZXJzJyk7XG5jb25zdCByZXNvbHZlRm9yY2VkU2NvcGVCcmVha3MgPSByZXF1aXJlKCcuL3Jlc29sdmVGb3JjZWRTY29wZUJyZWFrcycpO1xuY29uc3QgcmVzb2x2ZU5vQnJlYWtzID0gcmVxdWlyZSgnLi9yZXNvbHZlTm9CcmVha3MnKTtcbmNvbnN0IHJlc29sdmVTY29wZXMgPSByZXF1aXJlKCcuL3Jlc29sdmVTY29wZXMnKTtcblxuLyoqXG4gKiBBZnRlciBwcmludGluZyB0aGUgQVNUIHBhcnRzIGFuZCBhbGwgYXBwcm9wcmlhdGUgbWFya2VycyB0aGlzIHdpbGwgam9pbiB0aGVcbiAqIHBhcnRzIGJhc2VkIG9uIG9wdGlvbnMgYW5kIHRoZSBtYXJrZXJzIHRoYXQgYXJlIGF2YWlsYWJsZS5cbiAqL1xuZnVuY3Rpb24gcmVzb2x2ZUxpbmVzKGxpbmVzOiBBcnJheTxhbnk+LCBvcHRpb25zOiBPcHRpb25zKTogT3V0cHV0IHtcbiAgbGluZXMgPSByZXNvbHZlTm9CcmVha3MobGluZXMpO1xuICBsaW5lcyA9IHJlc29sdmVGb3JjZWRTY29wZUJyZWFrcyhsaW5lcyk7XG4gIGxpbmVzID0gcmVzb2x2ZUR1cGxpY2F0ZXMobGluZXMpO1xuXG4gIC8vIE5vdyB3ZSB3aWxsIHJlc29sdmUgc29tZSBuZXdsaW5lcyB3aGVyZSBwb3NzaWJsZS4gVGhpcyB3aWxsIGFmZmVjdFxuICAvLyBydW5zLCB3aGVyZWFzIGJlZm9yZSB3ZSB3ZXJlIGNhcmVmdWwgdG8gbm90IGFmZmVjdCBydW5zIG9mIG1hcmtlcnMuXG4gIGxpbmVzID0gcmVzb2x2ZUZvcmNlZE1hcmtlcnMobGluZXMpO1xuICBsaW5lcyA9IHJlc29sdmVTY29wZXMobGluZXMsIG9wdGlvbnMpO1xuICByZXR1cm4gcmVzb2x2ZUFsbChsaW5lcywgb3B0aW9ucyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gcmVzb2x2ZUxpbmVzO1xuIl19